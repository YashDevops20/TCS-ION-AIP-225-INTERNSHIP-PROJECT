<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amity EduTrack Cloud Portal</title>
    <!-- Google Fonts for Modern Typography -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/features.css">
    <link rel="stylesheet" href="css/styles.css">
</head>

<body>

    <!-- Authentication Overlay (Login View) -->
    <div id="auth-view" class="view-section active">
        <div class="glass-panel auth-panel">
            <div class="logo-container">
                <!-- User's uploaded logo will be sourced here -->
                <img src="https://latestlogo.com/wp-content/uploads/2024/05/amity-university-online.svg"
                    alt="Amity University Logo" id="app-logo">
            </div>
            <h2>EduTrack Portal</h2>
            <p class="subtitle">Student Task & Notification Center</p>

            <form id="login-form">
                <div class="input-group">
                    <label for="email">Student Email</label>
                    <input type="email" id="email" placeholder="e.g., student@amity.edu" required>
                </div>
                <div class="input-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" placeholder="••••••••" required>
                </div>
                <button type="submit" class="btn btn-primary">Sign In</button>
            </form>
            <p class="auth-footer">Powered by AWS Serverless Cloud</p>
        </div>
    </div>

    <!-- Main Dashboard View -->
    <div id="dashboard-view" class="view-section hidden">

        <!-- Sidebar Navigation -->
        <aside class="sidebar">
            <div class="sidebar-logo">
                <img src="https://cdn.brandfetch.io/iduHQvNmhz/w/400/h/400/theme/dark/icon.jpeg?c=1dxbfHSJFAPEGdCLU4o5B"
                    alt="Amity Logo" class="sm-logo">
            </div>
            <nav class="nav-menu">
                <a href="#" class="nav-item active" data-target="board">
                    <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10">
                        </path>
                    </svg>
                    My Tasks
                </a>
                <a href="#" class="nav-item" data-target="calendar">
                    <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z">
                        </path>
                    </svg>
                    Calendar
                </a>
                <a href="#" class="nav-item" data-target="announcements">
                    <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z">
                        </path>
                    </svg>
                    Announcements
                </a>
                <a href="#" class="nav-item" data-target="settings">
                    <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z">
                        </path>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                    </svg>
                    Settings
                </a>
            </nav>
            <div class="sidebar-footer">
                <div class="theme-toggle">
                    <span class="theme-label">Dark Mode</span>
                    <label class="switch">
                        <input type="checkbox" id="dark-mode-toggle">
                        <span class="slider round"></span>
                    </label>
                </div>
                <div class="user-profile" style="flex-direction: column; align-items: flex-start; gap: 0.5rem;">
                    <div style="display:flex; align-items:center; gap: 1rem; width: 100%;">
                        <div class="avatar">Y</div>
                        <div class="user-info">
                            <span class="user-name">Yash Gujrathi</span>
                            <span class="level-badge" id="user-level"
                                style="font-size:0.75rem; color:var(--amity-yellow); font-weight:600; display:flex; align-items:center; gap:4px;">
                                <svg width="14" height="14" fill="currentColor" viewBox="0 0 20 20">
                                    <path
                                        d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z">
                                    </path>
                                </svg>
                                Lvl 31: BCA Senior Scholar (3000 XP)
                            </span>
                        </div>
                    </div>
                </div>
                <button id="logout-btn" class="btn btn-logout">Logout</button>
            </div>
        </aside>

        <!-- Main Content Area -->
        <main class="main-content">
            <header class="top-header">
                <div class="header-title">
                    <h1 id="page-title">Task Dashboard</h1>
                    <p id="page-subtitle">Track your assignments and deadlines</p>
                </div>
                <div class="header-actions">
                    <button id="add-task-btn" class="btn btn-primary">+ New Task</button>
                    <div class="notification-bell" id="bell-icon" style="position:relative;">
                        <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9">
                            </path>
                        </svg>
                        <span class="badge" id="bell-badge">3</span>

                        <!-- Notifications Dropdown -->
                        <div class="notifications-dropdown" id="notif-dropdown"
                            style="display:none; position:absolute; top:calc(100% + 10px); right:0; width:300px; background:var(--surface-color); border:1px solid var(--border-color); border-radius:12px; padding:1rem; box-shadow:var(--glass-shadow); z-index:100; flex-direction:column; gap:0.5rem; backdrop-filter:var(--glass-blur);">
                            <h4
                                style="margin-bottom:0.5rem; color:var(--amity-blue); border-bottom:1px solid var(--border-color); padding-bottom:0.5rem; font-size:0.95rem;">
                                Recent Alerts</h4>
                            <div id="notif-list" style="display:flex; flex-direction:column; gap:0.5rem;">
                                <div
                                    style="font-size:0.85rem; color:var(--text-secondary); padding:0.5rem; background:rgba(0,0,0,0.02); border-radius:6px;">
                                    System: Welcome to your Amity EduTrack dashboard!</div>
                                <div
                                    style="font-size:0.85rem; color:var(--text-secondary); padding:0.5rem; background:rgba(0,0,0,0.02); border-radius:6px;">
                                    Faculty: Exams scheduled for next week.</div>
                                <div
                                    style="font-size:0.85rem; color:var(--text-secondary); padding:0.5rem; background:rgba(0,0,0,0.02); border-radius:6px;">
                                    Action: Cloud Project is due in 3 days.</div>
                            </div>
                        </div>

                    </div>
                </div>
            </header>

            <!-- Task Board Area -->
            <div id="board-container" class="content-container active">

                <!-- Phase 3: Exam Countdown Banner -->
                <div class="exam-banner glass-panel" id="exam-banner"
                    style="display:flex; justify-content:space-between; align-items:center; padding: 1rem 1.5rem; border-left: 6px solid var(--amity-yellow); background: rgba(243, 156, 18, 0.1); margin-bottom: 2rem;">
                    <div style="display:flex; align-items:center; gap: 1rem;">
                        <div
                            style="background:var(--amity-yellow); padding:0.5rem; border-radius:50%; color:var(--amity-blue); display:flex;">
                            <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                        <div>
                            <h4 style="color:var(--amity-blue); margin:0;">Upcoming: <span id="exam-title">Major Project
                                    Viva</span></h4>
                            <p style="margin:0; font-size:0.85rem; color:var(--text-secondary);">BCA Examination
                                Department</p>
                        </div>
                    </div>
                    <div style="text-align:right;">
                        <div id="exam-countdown"
                            style="font-size: 1.8rem; font-weight:700; color:var(--amity-blue); line-height:1;">14 <span
                                style="font-size:1rem;">Days Left</span></div>
                    </div>
                </div>

                <!-- Gamification & Analytics Header -->
                <div class="dashboard-top-row"
                    style="display:flex; gap: 1.5rem; margin-bottom: 2rem; align-items:stretch; flex-wrap: wrap;">

                    <!-- Phase 3: Daily Study Tracker -->
                    <div class="study-tracker glass-panel"
                        style="flex:1; min-width: 250px; padding:1.5rem; display:flex; flex-direction:column; justify-content:center;">
                        <div style="display:flex; justify-content:space-between; margin-bottom:0.5rem;">
                            <h3 style="color:var(--amity-blue); font-size:1.1rem;">Daily Study Target</h3>
                            <span id="study-fraction"
                                style="font-size:0.9rem; font-weight:bold; color:var(--text-secondary);">0 / 4
                                Hrs</span>
                        </div>
                        <div
                            style="width: 100%; height: 12px; background: rgba(0,0,0,0.1); border-radius: 6px; overflow: hidden; margin-bottom:1rem;">
                            <div id="study-bar"
                                style="height: 100%; width: 0%; background: var(--success); transition: width 0.3s ease;">
                            </div>
                        </div>
                        <div style="display:flex; gap:0.5rem;">
                            <button class="btn btn-outline" style="flex:1; padding:0.4rem;" onclick="logStudyTime(1)">+
                                1 Hour</button>
                            <button class="btn btn-outline"
                                style="flex:1; padding:0.4rem; color:var(--danger); border-color:var(--danger);"
                                onclick="resetStudyTime()">Reset</button>
                        </div>
                    </div>

                    <!-- Analytics Widget -->
                    <div class="analytics-card" style="margin-bottom:0; flex: 2; min-width: 300px; padding:1.5rem;">
                        <div class="stat-info">
                            <h3>Progress Overview</h3>
                            <p>Track your task completion rates.</p>
                            <div class="stat-numbers">
                                <div class="stat-box">
                                    <span class="stat-val" id="stat-total">0</span>
                                    <span class="stat-label">Total</span>
                                </div>
                                <div class="stat-box">
                                    <span class="stat-val" id="stat-completed">0</span>
                                    <span class="stat-label">Completed</span>
                                </div>
                                <div class="stat-box">
                                    <span class="stat-val stat-warn" id="stat-pending">0</span>
                                    <span class="stat-label">Pending</span>
                                </div>
                            </div>
                        </div>
                        <div class="progress-circle" id="progress-circle">
                            <span class="progress-text">0%</span>
                        </div>
                    </div>

                    <!-- Sticky Notes Widget -->
                    <div class="notes-card glass-panel"
                        style="flex:1; min-width: 250px; padding: 1.5rem; display:flex; flex-direction:column;">
                        <div
                            style="display:flex; justify-content:space-between; align-items:center; margin-bottom:1rem;">
                            <h3
                                style="color:var(--amity-yellow); font-size:1.1rem; display:flex; align-items:center; gap:0.5rem;">
                                <svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z">
                                    </path>
                                </svg>
                                Quick Notes
                            </h3>
                        </div>
                        <textarea id="sticky-note" placeholder="Jot down a quick thought..."
                            style="flex:1; resize:none; border:none; background:transparent; font-family:inherit; font-size:0.9rem; color:var(--text-primary); outline:none;"></textarea>
                    </div>

                </div>

                <!-- Tools & Filters -->
                <div class="board-tools"
                    style="display:flex; justify-content:space-between; align-items:center; margin-bottom:1.5rem; gap:1rem;">
                    <div class="search-bar" style="position:relative; flex:1; max-width:400px;">
                        <svg width="18" height="18" fill="none" stroke="var(--text-secondary)" viewBox="0 0 24 24"
                            style="position:absolute; left:12px; top:50%; transform:translateY(-50%);">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                        </svg>
                        <input type="text" id="task-search" placeholder="Search tasks by title..."
                            style="width:100%; padding:0.6rem 1rem 0.6rem 2.5rem; border-radius:8px; border:1px solid var(--border-color); background:var(--surface-color); color:var(--text-primary); outline:none;">
                    </div>
                    <div class="filter-chips" style="display:flex; gap:0.5rem;" id="filter-container">
                        <button class="chip active" data-filter="all">All</button>
                        <button class="chip" data-filter="pending">Pending</button>
                        <button class="chip" data-filter="completed">Completed</button>
                        <button class="chip" data-filter="high">High Priority</button>
                    </div>
                </div>

                <div style="display:flex; gap: 2rem;">
                    <div class="task-grid" id="task-list" style="flex:3; align-content: flex-start;">
                        <!-- Tasks will be injected here via JS -->
                    </div>

                    <!-- Recent Activity Sidebar -->
                    <div class="activity-feed glass-panel"
                        style="flex:1; padding:1.5rem; max-height: 500px; overflow-y:auto;">
                        <h3 style="margin-bottom: 1.5rem; font-size:1.1rem;">Recent Activity</h3>
                        <div id="activity-list" style="display:flex; flex-direction:column; gap:1rem;">
                            <!-- Activity injected via JS -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Calendar Area -->
            <div id="calendar-container" class="content-container hidden">
                <div class="calendar-card glass-panel">
                    <div class="cal-header">
                        <button id="cal-prev" class="btn">&lt;</button>
                        <h2 id="cal-month-year">March 2026</h2>
                        <button id="cal-next" class="btn">&gt;</button>
                    </div>
                    <div class="cal-grid cal-days">
                        <div>Sun</div>
                        <div>Mon</div>
                        <div>Tue</div>
                        <div>Wed</div>
                        <div>Thu</div>
                        <div>Fri</div>
                        <div>Sat</div>
                    </div>
                    <div class="cal-grid cal-dates" id="cal-dates">
                        <!-- Dates injected by JS -->
                    </div>
                </div>
            </div>

            <!-- Announcements Area -->
            <div id="announcements-container" class="content-container hidden">
                <div class="announcement-list" id="announcement-list">
                    <!-- Announcements injected via JS -->
                </div>
            </div>

            <!-- Settings Area -->
            <div id="settings-container" class="content-container hidden">
                <div class="settings-card glass-panel">
                    <h3>Account Settings</h3>
                    <form id="settings-form">
                        <div class="input-group">
                            <label>Full Name</label>
                            <input type="text" value="Yash Gujrathi">
                        </div>
                        <div class="input-group">
                            <label>Email Notification Preferences</label>
                            <select>
                                <option>Immediate</option>
                                <option>Daily Digest</option>
                                <option>Never</option>
                            </select>
                        </div>
                        <button type="button" class="btn btn-primary"
                            onclick="showToast('Settings saved successfully.')">Save Preferences</button>
                    </form>
                </div>
            </div>

        </main>
    </div>

    <!-- Add Task Modal -->
    <div id="task-modal" class="modal hidden">
        <div class="modal-content glass-panel">
            <div class="modal-header">
                <h3>Create New Task</h3>
                <button class="close-btn">&times;</button>
            </div>
            <form id="task-form">
                <div class="input-group">
                    <label>Task Title</label>
                    <input type="text" id="task-title" required placeholder="e.g. Cloud Computing Assignment">
                </div>
                <div class="input-group">
                    <label>Description</label>
                    <textarea id="task-desc" rows="3" placeholder="Additional details..."></textarea>
                </div>
                <div class="form-row">
                    <div class="input-group">
                        <label>Deadline</label>
                        <input type="date" id="task-date" required>
                    </div>
                    <div class="input-group">
                        <label>Priority</label>
                        <select id="task-priority">
                            <option value="high">High</option>
                            <option value="medium" selected>Medium</option>
                            <option value="low">Low</option>
                        </select>
                    </div>
                </div>
                <div class="input-group">
                    <label>Attachments (Optional)</label>
                    <input type="file" id="task-file" class="file-input">
                    <small style="color:var(--text-secondary); font-size:0.8rem;">Upload prep: files will be synced to
                        AWS S3.</small>
                </div>
                <button type="submit" class="btn btn-primary full-width">Save Task</button>
            </form>
        </div>
    </div>

    <!-- SNS Alert Modal -->
    <div id="sns-modal" class="modal hidden">
        <div class="modal-content glass-panel" style="border-left: 6px solid var(--danger); max-width: 450px;">
            <div class="modal-header">
                <h3 style="color:var(--danger); display:flex; align-items:center; gap:0.5rem;">
                    <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z">
                        </path>
                    </svg>
                    AWS SNS Alerts
                </h3>
                <button class="close-btn"
                    onclick="document.getElementById('sns-modal').classList.remove('active')">&times;</button>
            </div>
            <p style="margin-bottom: 1rem; color:var(--text-secondary);">You have tasks due <strong>Today</strong>.
                Please ensure they are submitted to avoid academic penalties.</p>
            <div id="urgent-tasks-list" style="margin-bottom:1.5rem; display:flex; flex-direction:column; gap:0.5rem;">
            </div>
            <button class="btn btn-primary full-width"
                onclick="document.getElementById('sns-modal').classList.remove('active')">Acknowledge</button>
        </div>
    </div>

    <!-- Document Preview Modal -->
    <div id="preview-modal" class="modal hidden">
        <div class="modal-content glass-panel"
            style="max-width: 800px; height: 80vh; display:flex; flex-direction:column;">
            <div class="modal-header">
                <h3 id="preview-title">Document Preview</h3>
                <button class="close-btn"
                    onclick="document.getElementById('preview-modal').classList.remove('active')">&times;</button>
            </div>
            <div
                style="flex:1; background: #333; border-radius:8px; display:flex; align-items:center; justify-content:center; color:#888;">
                <div style="text-align:center;">
                    <svg width="64" height="64" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                        style="margin-bottom:1rem;">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1"
                            d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z">
                        </path>
                    </svg>
                    <p>S3 Secure File Preview Simulation</p>
                    <p style="font-size:0.8rem; margin-top:0.5rem;">[PDF Rendering Layer Active]</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Notification Toast -->
    <div id="toast-container" class="toast-container"></div>

    <script src="js/app.js"></script>
</body>

</html>